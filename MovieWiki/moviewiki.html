<!DOCTYPE html>
<html>
<head>
		<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">	
	<title>MovieWiki</title>
	<style type="text/css">
		body{
				background-color: rgb(106, 151, 222);
		}
		ul li{
			list-style: none;
			display: inline;
  			color: white;
  			font-size: 1.5cm;

		}
#search
	{
		padding: 5px;
  height: 30px;
  width: 15cm;
	}	
		input[type=text] {
    padding:5px; 
    border:2px solid #ccc; 
    -webkit-border-radius: 5px;
    border-radius: 5px;
}
input[type=text]:focus {
    border-color:#333;
}
</style>
</head>

<body>
		<br><br><br><br><br><br><br><br>
		<center>
				<ul>
					<li id="t1">Movie</li>
					<li id="t2"><b>Wiki</b></li>
				</ul><br>
			<center>
	<input type="text" id="search" placeholder="Search For Movies" onkeyup="search()">
				<br><br>
	<div id="results" class="container" style="color: white;"></div>
</center>
</body>
<script type="text/javascript">
	function search()
	{
		document.body.style.backgroundColor = "black";
		

		let input = document.getElementById('search').value;

		
		console.log(input);
		fetch("https://www.omdbapi.com/?s="+input+"&apikey=ba1f4581")
		  .then(response => response.json())
		  .then((data) => {
			  
		  let output='<div class="row">'
			let counter=0,c=0,flag=0;

			
			for(let i = 0 ; i <data.Search.length;i++)
			{
		  		c++;

		 output += `
		 <div class="col-lg-4">
            
            <a href="https://www.imdb.com/title/${data.Search[i].imdbID}">
              <img src="${data.Search[i].Poster}">
              <h3 style="color:white;">${data.Search[i].Title}</h3>
              </a>
            
			</div>
          `;
		  if(c==7)
		  {
			   flag=1;
			  break;
		  }
		  if(counter<2)
				  {
					  counter++;
				  }
				  else
				  {
					  output+='</div><div class="row">';
						counter=0;
				  }
		  	}
			  
			  output+='</div>';
			  if(flag==1)
			  {
				  output+='<center><button class="btn btn-success"value="Show more" onclick="show()">Show more</button><div>'
			  }

		      document.getElementById('results').innerHTML = output;
		  });
	}
	function show()
	{
		
		document.body.style.backgroundColor = "black";
		

		let input = document.getElementById('search').value;

		
		console.log(input);
		fetch("https://www.omdbapi.com/?s="+input+"&apikey=ba1f4581")
		  .then(response => response.json())
		  .then((data) => {
			  
		  let output='<div class="row">'
			let counter=0,c=0,flag=0;

			
			for(let i = 7 ; i <data.Search.length;i++)
			{
		  		

		 output += `
		 <div class="col-lg-4">
            
            <a href="https://www.imdb.com/title/${data.Search[i].imdbID}">
              <img src="${data.Search[i].Poster}">
              <h3 style="color:white;">${data.Search[i].Title}</h3>
              </a>
            
			</div>
          `;
		  if(c==7)
		  {
			   
			  break;
		  }
		  if(counter<2)
				  {
					  counter++;
				  }
				  else
				  {
					  output+='</div><div class="row">';
						counter=0;
				  }
		  	}
			  
			  output+='</div>';
			  

		      document.getElementById('results').innerHTML = output;
		  });
	}
</script>
</html>
